# Настройка ИИ для оценки ответов

## Требования

Для работы системы оценки открытых вопросов через ИИ необходимо:

1. **OpenAI API ключ** - получить на https://platform.openai.com/api-keys

## Настройка

1. Создайте файл `.env.local` в корне проекта
2. Добавьте в файл следующие переменные:

```env
# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# Base URL для API
NEXT_PUBLIC_BASE_URL=http://localhost:3000
```

3. Замените `your_openai_api_key_here` на ваш реальный API ключ OpenAI

## Как это работает

1. **Открытые вопросы** - когда пользователь отвечает на вопрос без вариантов ответа
2. **ИИ оценка** - система отправляет вопрос и ответ пользователя в ChatGPT
3. **Промпт** - специально составленный промпт для оценки в сфере маломощного реактора
4. **Результат** - ИИ возвращает оценку от 0 до максимального балла вопроса
5. **Сохранение** - оценка сохраняется в поле `aiScore` таблицы `Answer`
6. **Обратная связь** - создается запись в таблице `AiFeedback` с комментарием

## Безопасность

- API ключ хранится в переменных окружения
- В случае недоступности ИИ система использует fallback (полный балл за ответ)
- Все ошибки логируются для отладки

## Тестирование

Для тестирования без реального API ключа система использует случайные оценки. 